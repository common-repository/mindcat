(()=>{"use strict";var e,a={666:(e,a,t)=>{const l=window.wp.blocks,n=window.wp.i18n,r=window.React,i=window.wp.serverSideRender;var o=t.n(i);const{withSelect:c}=wp.data,{InspectorControls:d,useBlockProps:s}=wp.blockEditor,{PanelBody:m,CheckboxControl:u,RadioControl:h,ToggleControl:p}=wp.components,{useEffect:v,useState:b}=wp.element,_=c((e=>{const[a,t]=b(null);if(v((()=>{wp.apiFetch({path:"/mindcat/taxonomies",method:"GET"}).then((e=>{t(e)})).catch((e=>{console.error(e)}))}),[]),!a)return null;const l=(a,t=0,n=new Set)=>{if(n.has(t))return[];const r=e("core").getEntityRecords("taxonomy",a.slug,{per_page:-1,parent:t});return r&&0!==r.length?(n.add(t),r.map((e=>{const t={value:e.id,label:e.name,slug:e.slug};return a.hierarchical&&(t.children=l(a,e.id,n)),t}))):[]};return{taxonomies:Object.values(a).map((e=>{const a=l({slug:e.slug,hierarchical:e.hierarchical});return{type:e.name,taxonomies:a}}))}}))((e=>{const{className:a,setAttributes:t,attributes:l,taxonomies:i}=e,{selectedCategories:c,displayMode:v,imageChoice:b,imageSizeChoice:_,useBGColor:g,useTextColor:C}=l,y=s(),f=e=>{let a=[];return e.children&&e.children.length>0&&(a=e.children.reduce(((e,a)=>e.some((e=>e.value===a.value))?e:[...e,a,...f(a)]),[])),a},w=e=>(0,r.createElement)("div",{key:e.value},(0,r.createElement)(u,{label:e.label,checked:c.some((a=>a.value===e.value)),onChange:()=>(e=>{let a;a=c.some((a=>a.value===e.value))?c.filter((a=>a.value!==e.value)):[...c,e,...f(e)],t({selectedCategories:a})})(e)}),e.children&&e.children.length>0&&(0,r.createElement)("div",{style:{marginLeft:"20px"}},e.children.map((e=>w(e))))),E=(0,r.createElement)(d,null,(0,r.createElement)(m,{title:(0,n.__)("Filters","mindcat"),initialOpen:!0},i&&i.map((e=>(0,r.createElement)("div",{key:e.type},(0,r.createElement)("h3",null,e.type),(0,r.createElement)("div",{style:{marginLeft:"20px"}},e.taxonomies&&e.taxonomies.map((e=>w(e)))))))),(0,r.createElement)(m,{title:(0,n.__)("Display","mindcat"),initialOpen:!0},(0,r.createElement)(h,{label:(0,n.__)("Display mode","mindcat"),selected:v,options:[{label:(0,n.__)("Grid","mindcat"),value:"grid"},{label:(0,n.__)("Column","mindcat"),value:"column"},{label:(0,n.__)("Cards","mindcat"),value:"mindcat-card"},{label:(0,n.__)("Square","mindcat"),value:"mindcat-square-card"},{label:(0,n.__)("Rounds","mindcat"),value:"mindcat-round-card"},{label:(0,n.__)("Brands","mindcat"),value:"mindcat-brand-card"},{label:(0,n.__)("None","mindcat"),value:""}],onChange:e=>{t({displayMode:e})}}),(0,r.createElement)(h,{label:(0,n.__)("Image","mindcat"),selected:b,options:[{label:(0,n.__)("None","mindcat"),value:"none"},{label:(0,n.__)("Primary","mindcat"),value:"primary"},{label:(0,n.__)("Secondary","mindcat"),value:"secondary"}],onChange:e=>{t({imageChoice:e})}}),"none"!==b&&(0,r.createElement)(h,{label:(0,n.__)("Image size","mindcat"),selected:_,options:[{label:(0,n.__)("Thumbnail","mindcat"),value:"thumbnail"},{label:(0,n.__)("Medium","mindcat"),value:"medium"},{label:(0,n.__)("Large","mindcat"),value:"large"},{label:(0,n.__)("Original","mindcat"),value:"original"}],onChange:e=>{t({imageSizeChoice:e})}}),(0,r.createElement)(p,{label:(0,n.__)("Use background color","mindcat"),checked:g,onChange:e=>{t({useBGColor:e})}}),(0,r.createElement)(p,{label:(0,n.__)("Use text color","mindcat"),checked:C,onChange:e=>{t({useTextColor:e})}})));return c.map((e=>e.label)).join(", "),(0,r.createElement)("div",{className:a,...y},E,(0,r.createElement)(o(),{block:"mindcat/list",attributes:l}))}));(0,l.registerBlockType)("mindcat/list",{edit:_,save:function({attributes:e}){return null}})}},t={};function l(e){var n=t[e];if(void 0!==n)return n.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=(a,t,n,r)=>{if(!t){var i=1/0;for(s=0;s<e.length;s++){for(var[t,n,r]=e[s],o=!0,c=0;c<t.length;c++)(!1&r||i>=r)&&Object.keys(l.O).every((e=>l.O[e](t[c])))?t.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(s--,1);var d=n();void 0!==d&&(a=d)}}return a}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[t,n,r]},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={330:0,64:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var n,r,[i,o,c]=t,d=0;if(i.some((a=>0!==e[a]))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(c)var s=c(l)}for(a&&a(t);d<i.length;d++)r=i[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(s)},t=globalThis.webpackChunkmindcat=globalThis.webpackChunkmindcat||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var n=l.O(void 0,[64],(()=>l(666)));n=l.O(n)})();